{"ast":null,"code":"var _jsxFileName = \"/Users/joshualeighton/Downloads/graduate/graduatecoins/clients/src/components/coins.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Heading, Box, Spacer, Wrap } from \"@chakra-ui/react\";\nimport { useQuery, gql } from \"@apollo/client\";\nimport DisplayCard from \"./info\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n//Creating a query\nconst CoinList = () => {\n  _s();\n\n  const COINS = gql`\n    query coins {\n      coins {\n        id\n        symbol\n        name\n        price_usd\n        price_btc\n        percent_change_24h\n        market_cap_usd\n        rank\n      }\n    }\n  `;\n  const STORAGE_KEY = \"hiddenItemsKey\";\n  var storedIds = JSON.parse(localStorage.getItem(STORAGE_KEY) || \"[]\");\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(COINS);\n  const [infoVisible, setInfoVisible] = useState(false);\n  const [hiddenItems, setHiddenItems] = useState(storedIds); //defining functions for display or making data invisible\n\n  const handleShowButton = () => {\n    setInfoVisible(true);\n  };\n\n  const handleHideButton = () => {\n    setInfoVisible(false);\n  };\n\n  const handleHideRow = id => {\n    setHiddenItems([...hiddenItems, id]);\n  };\n\n  const handleShowRow = () => {\n    setHiddenItems([]);\n  }; //useEffect to persist data to local storage\n\n\n  useEffect(() => {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(hiddenItems));\n  }, [hiddenItems]); // Try to avoide declaring a component inside another component or container.\n  // Reason for this is that the component will be 'recreated' every time the wrapping component is rendered.\n  //LoadCoins function responsible for displaying all the Coins queried\n\n  const LoadCoins = () => {\n    if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }, this);\n    if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Error :\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 23\n    }, this);\n    return data.coins.map(_ref => {\n      let {\n        id,\n        symbol,\n        name,\n        price_usd,\n        rank,\n        price_btc,\n        percent_change_24h,\n        market_cap_usd\n      } = _ref;\n\n      if (!hiddenItems.includes(id)) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Wrap, {\n            children: /*#__PURE__*/_jsxDEV(Box, {\n              bg: \"dark\",\n              w: \"100%\",\n              p: 3,\n              color: \"white\",\n              borderWidth: \"1px\",\n              borderRadius: \"lg\",\n              display: \"flex\",\n              mt: \"2\",\n              alignItems: \"center\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: [symbol, \": \", name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(DisplayCard, {\n                isVisible: infoVisible,\n                name: name,\n                symbol: symbol,\n                price_btc: price_btc,\n                price_usd: price_usd,\n                percent_change_24h: percent_change_24h,\n                market_cap_usd: market_cap_usd\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 22\n              }, this), /*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleShowButton,\n                  colorScheme: \"red\",\n                  mt: \"2\",\n                  ml: \"2\",\n                  children: \"Info\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: handleHideButton,\n                  colorScheme: \"yellow\",\n                  mt: \"2\",\n                  ml: \"2\",\n                  children: \"Hide-info\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => handleHideRow(id),\n                  colorScheme: \"yellow\",\n                  mt: \"2\",\n                  ml: \"2\",\n                  children: \"Hide Row\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [symbol, \": \", name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this)\n        }, id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Heading, {\n      p: 7,\n      children: \"Graduate Crypto Loader\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Spacer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 7\n    }, this), !loading && /*#__PURE__*/_jsxDEV(Box, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        colorScheme: \"red\",\n        mt: \"2\",\n        ml: \"2\",\n        onClick: handleShowRow,\n        children: \"unhide\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 20\n    }, this), LoadCoins()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CoinList, \"COqZCMewvZHQXZq5bQ4jL5hA+8U=\", false, function () {\n  return [useQuery];\n});\n\n_c = CoinList;\nexport default CoinList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CoinList\");","map":{"version":3,"names":["React","useEffect","useState","Button","Heading","Box","Spacer","Wrap","useQuery","gql","DisplayCard","CoinList","COINS","STORAGE_KEY","storedIds","JSON","parse","localStorage","getItem","loading","error","data","infoVisible","setInfoVisible","hiddenItems","setHiddenItems","handleShowButton","handleHideButton","handleHideRow","id","handleShowRow","setItem","stringify","LoadCoins","coins","map","symbol","name","price_usd","rank","price_btc","percent_change_24h","market_cap_usd","includes"],"sources":["/Users/joshualeighton/Downloads/graduate/graduatecoins/clients/src/components/coins.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Button, Heading, Box, Spacer, Wrap } from \"@chakra-ui/react\";\nimport {\n  ApolloClient,\n  InMemoryCache,\n  ApolloProvider,\n  useQuery,\n  gql,\n} from \"@apollo/client\";\nimport DisplayCard from \"./info\";\nimport { isVisible } from \"@testing-library/user-event/dist/utils\";\n\n//Creating a query\nconst CoinList = () => {\n\n  const COINS = gql`\n    query coins {\n      coins {\n        id\n        symbol\n        name\n        price_usd\n        price_btc\n        percent_change_24h\n        market_cap_usd\n        rank\n      }\n    }\n  `;\n\nconst STORAGE_KEY = \"hiddenItemsKey\";\nvar storedIds = JSON.parse(localStorage.getItem(STORAGE_KEY) || \"[]\");\n\nconst { loading, error, data } = useQuery(COINS);\nconst [infoVisible,setInfoVisible] = useState(false);\nconst [hiddenItems, setHiddenItems] = useState<Array<number>>(storedIds)\n\n//defining functions for display or making data invisible\nconst handleShowButton = () =>{\n  setInfoVisible(true)\n\n}\n\nconst handleHideButton = () =>{\n  setInfoVisible(false)\n}\n\nconst handleHideRow = (id: number) =>{\n  setHiddenItems([...hiddenItems, id]); \n}\nconst handleShowRow = () => {\n  setHiddenItems([]);\n}\n//useEffect to persist data to local storage\nuseEffect(() => {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(hiddenItems));\n}, [hiddenItems])\n\n// Try to avoide declaring a component inside another component or container.\n// Reason for this is that the component will be 'recreated' every time the wrapping component is rendered.\n\n//LoadCoins function responsible for displaying all the Coins queried\nconst LoadCoins = () => {\n    if (loading) return <p>Loading...</p>;\n    if (error) return <p>Error :</p>;\n\n    return data.coins.map(\n      ({id, symbol, name, price_usd, rank, price_btc, percent_change_24h, market_cap_usd}: { id: number; symbol: string; name: string, price_usd:string, rank: number,price_btc:string,  percent_change_24h:string,market_cap_usd:string}) => {\n        if(!hiddenItems.includes(id)) {\n            \n            return (\n              <div key={id}>\n                <Wrap>\n                  <Box\n                    bg=\"dark\"\n                    w=\"100%\"\n                    p={3}\n                    color=\"white\"\n                    borderWidth=\"1px\"\n                    borderRadius=\"lg\"\n                    display=\"flex\"\n                    mt=\"2\"\n                    alignItems=\"center\"\n                    >\n                    <p>\n                      {symbol}: {name}\n                    </p>\n                    {<DisplayCard isVisible= {infoVisible} name={name} symbol = {symbol} price_btc = {price_btc} price_usd= {price_usd} percent_change_24h={percent_change_24h} market_cap_usd={market_cap_usd}/>\n                    }\n                    <Spacer />\n                    <Box>\n                      <Button onClick={handleShowButton}colorScheme=\"red\" mt=\"2\" ml=\"2\">\n                        Info\n                      </Button>\n                      <Button onClick={handleHideButton} colorScheme=\"yellow\" mt=\"2\" ml=\"2\">\n                        Hide-info\n                      </Button>\n                      <Button onClick={() => handleHideRow(id)} colorScheme=\"yellow\" mt=\"2\" ml=\"2\">\n                        Hide Row\n                      </Button>\n                      <p>\n                      {symbol}: {name} \n                    </p>\n                    </Box>\n                  </Box>\n                </Wrap>\n              </div>\n            )\n        }\n      } \n    );\n  };\n  \n  return (\n    <div>\n      <Heading p={7} >Graduate Crypto Loader</Heading>\n      <Spacer />\n      {!loading && <Box><Button colorScheme=\"red\" mt=\"2\" ml=\"2\" onClick={handleShowRow}>unhide</Button></Box>}\n      {LoadCoins()}\n    </div>\n  );\n};\n\nexport default CoinList;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,MAAT,EAAiBC,OAAjB,EAA0BC,GAA1B,EAA+BC,MAA/B,EAAuCC,IAAvC,QAAmD,kBAAnD;AACA,SAIEC,QAJF,EAKEC,GALF,QAMO,gBANP;AAOA,OAAOC,WAAP,MAAwB,QAAxB;;;AAGA;AACA,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EAErB,MAAMC,KAAK,GAAGH,GAAI;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAbE;EAeF,MAAMI,WAAW,GAAG,gBAApB;EACA,IAAIC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqBL,WAArB,KAAqC,IAAhD,CAAhB;EAEA,MAAM;IAAEM,OAAF;IAAWC,KAAX;IAAkBC;EAAlB,IAA2Bb,QAAQ,CAACI,KAAD,CAAzC;EACA,MAAM,CAACU,WAAD,EAAaC,cAAb,IAA+BrB,QAAQ,CAAC,KAAD,CAA7C;EACA,MAAM,CAACsB,WAAD,EAAcC,cAAd,IAAgCvB,QAAQ,CAAgBY,SAAhB,CAA9C,CAtBuB,CAwBvB;;EACA,MAAMY,gBAAgB,GAAG,MAAK;IAC5BH,cAAc,CAAC,IAAD,CAAd;EAED,CAHD;;EAKA,MAAMI,gBAAgB,GAAG,MAAK;IAC5BJ,cAAc,CAAC,KAAD,CAAd;EACD,CAFD;;EAIA,MAAMK,aAAa,GAAIC,EAAD,IAAe;IACnCJ,cAAc,CAAC,CAAC,GAAGD,WAAJ,EAAiBK,EAAjB,CAAD,CAAd;EACD,CAFD;;EAGA,MAAMC,aAAa,GAAG,MAAM;IAC1BL,cAAc,CAAC,EAAD,CAAd;EACD,CAFD,CArCuB,CAwCvB;;;EACAxB,SAAS,CAAC,MAAM;IACdgB,YAAY,CAACc,OAAb,CAAqBlB,WAArB,EAAkCE,IAAI,CAACiB,SAAL,CAAeR,WAAf,CAAlC;EACD,CAFQ,EAEN,CAACA,WAAD,CAFM,CAAT,CAzCuB,CA6CvB;EACA;EAEA;;EACA,MAAMS,SAAS,GAAG,MAAM;IACpB,IAAId,OAAJ,EAAa,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;IACb,IAAIC,KAAJ,EAAW,oBAAO;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAAP;IAEX,OAAOC,IAAI,CAACa,KAAL,CAAWC,GAAX,CACL,QAAwO;MAAA,IAAvO;QAACN,EAAD;QAAKO,MAAL;QAAaC,IAAb;QAAmBC,SAAnB;QAA8BC,IAA9B;QAAoCC,SAApC;QAA+CC,kBAA/C;QAAmEC;MAAnE,CAAuO;;MACtO,IAAG,CAAClB,WAAW,CAACmB,QAAZ,CAAqBd,EAArB,CAAJ,EAA8B;QAE1B,oBACE;UAAA,uBACE,QAAC,IAAD;YAAA,uBACE,QAAC,GAAD;cACE,EAAE,EAAC,MADL;cAEE,CAAC,EAAC,MAFJ;cAGE,CAAC,EAAE,CAHL;cAIE,KAAK,EAAC,OAJR;cAKE,WAAW,EAAC,KALd;cAME,YAAY,EAAC,IANf;cAOE,OAAO,EAAC,MAPV;cAQE,EAAE,EAAC,GARL;cASE,UAAU,EAAC,QATb;cAAA,wBAWE;gBAAA,WACGO,MADH,QACaC,IADb;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAXF,eAcG,QAAC,WAAD;gBAAa,SAAS,EAAGf,WAAzB;gBAAsC,IAAI,EAAEe,IAA5C;gBAAkD,MAAM,EAAID,MAA5D;gBAAoE,SAAS,EAAII,SAAjF;gBAA4F,SAAS,EAAGF,SAAxG;gBAAmH,kBAAkB,EAAEG,kBAAvI;gBAA2J,cAAc,EAAEC;cAA3K;gBAAA;gBAAA;gBAAA;cAAA,QAdH,eAgBE,QAAC,MAAD;gBAAA;gBAAA;gBAAA;cAAA,QAhBF,eAiBE,QAAC,GAAD;gBAAA,wBACE,QAAC,MAAD;kBAAQ,OAAO,EAAEhB,gBAAjB;kBAAkC,WAAW,EAAC,KAA9C;kBAAoD,EAAE,EAAC,GAAvD;kBAA2D,EAAE,EAAC,GAA9D;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QADF,eAIE,QAAC,MAAD;kBAAQ,OAAO,EAAEC,gBAAjB;kBAAmC,WAAW,EAAC,QAA/C;kBAAwD,EAAE,EAAC,GAA3D;kBAA+D,EAAE,EAAC,GAAlE;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAJF,eAOE,QAAC,MAAD;kBAAQ,OAAO,EAAE,MAAMC,aAAa,CAACC,EAAD,CAApC;kBAA0C,WAAW,EAAC,QAAtD;kBAA+D,EAAE,EAAC,GAAlE;kBAAsE,EAAE,EAAC,GAAzE;kBAAA;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAPF,eAUE;kBAAA,WACCO,MADD,QACWC,IADX;gBAAA;kBAAA;kBAAA;kBAAA;gBAAA,QAVF;cAAA;gBAAA;gBAAA;gBAAA;cAAA,QAjBF;YAAA;cAAA;cAAA;cAAA;YAAA;UADF;YAAA;YAAA;YAAA;UAAA;QADF,GAAUR,EAAV;UAAA;UAAA;UAAA;QAAA,QADF;MAsCH;IACF,CA3CI,CAAP;EA6CD,CAjDH;;EAmDE,oBACE;IAAA,wBACE,QAAC,OAAD;MAAS,CAAC,EAAE,CAAZ;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QAFF,EAGG,CAACV,OAAD,iBAAY,QAAC,GAAD;MAAA,uBAAK,QAAC,MAAD;QAAQ,WAAW,EAAC,KAApB;QAA0B,EAAE,EAAC,GAA7B;QAAiC,EAAE,EAAC,GAApC;QAAwC,OAAO,EAAEW,aAAjD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAL;MAAA;MAAA;MAAA;IAAA,QAHf,EAIGG,SAAS,EAJZ;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAQD,CA5GD;;GAAMtB,Q;UAoB2BH,Q;;;KApB3BG,Q;AA8GN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}